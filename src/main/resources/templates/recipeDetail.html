<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>recipeDetail</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="/css/layout.css">
  <link rel="stylesheet" href="/css/recipeDetail.css">
</head>
<body>

<div class="mobile-container position-relative">
    <div th:replace="layout :: pageHeader('레시피 조회', 'javascript:history.back()')"></div>

  <div class="w-100">
    <img id="recipe-thumbnail" src="#" class="img-fluid w-100" style="max-height: 250px; object-fit: cover;">
  </div>

  <main class="px-3 py-4">
    <section class="mb-4">
      <div class="d-flex justify-content-between align-items-start mb-2">
        <div class="d-flex align-items-center">
          <div class="d-flex flex-column align-items-center me-2" id="writer-profile" data-no="">
            <img id="writer-profile-img" src="/img/user.png" class="profile-img-lg me-2" alt="Profile">
            <small class="mt-1" id="writer-nickname"></small>
          </div>
          <div>
            <div class="d-flex align-items-center gap-2">
              <h4 class="fw-bold mb-2" id="recipe-title"></h4>
              <div class="d-flex align-items-center text-muted mb-3">
                <span class="me-2 text-black"><i class="bi bi-star-fill text-warning"></i> <span id="recipe-rating"></span></span>
                <span class="me-2"><i class="bi bi-chat-square-text"></i> <span id="recipe-review-count"></span></span>
              </div>
            </div>
            <p class="mb-2" id="recipe-summary"></p>
            <small class="text-muted">작성일자: <span id="recipe-inDate"></span></small>
          </div>
        </div>


        <div id="edit-box" class="position-relative"></div>

      </div>

      <div id="summary-info" class="d-flex justify-content-between border-top border-bottom py-3 text-center text-secondary"></div>
    </section>

    <section class="mb-5">
      <div class="d-flex justify-content-between align-items-end mb-2 border-bottom pb-1">
        <h5 class="fw-bold m-0">재료</h5>
          <small class="text-muted">후기 <span id="ingredient-review-count"></span>건 통계입니다.</small>
      </div>

      <div class="d-flex text-muted mb-2">
        <div class="col-6">원재료</div>
        <div class="col-6 ps-2">대체재료</div>
      </div>

      <div id="ingredient-list"></div>
    </section>

    <section class="mb-5">
        <h5 class="fw-bold border-bottom pb-2 mb-3">조리 순서</h5>

        <div id="steps-list"></div>
    </section>

    <section class="bg-light p-3 rounded-3 mb-4">
        <h6 class="fw-bold mb-3">다른 회원의 매운맛 평가(<span id="spicy-review-count"></span>)</h6>

        <div id="spicy-level-progress"></div>
    </section>

      <section class="bg-light p-3 rounded-3">
          <div id="review-section"></div>
      </section>
  </main>

  <div class="add-review-btn-area">
    <button id="addReviewBtn" class="btn btn-primary w-100 fw-bold py-2 rounded-3" style="background-color: #3b82f6; border: none;">
      레시피 후기 남기기
    </button>
  </div>

  <div th:replace="layout :: menuBar"></div>
</div>
<div th:replace="modal :: modal"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/api.js"></script>
<script type="module" src="/js/recipeDetail.js"></script>
</body>
</html>